{"ast":null,"code":"import _regeneratorRuntime from \"/home/kacper/Pulpit/prg/TK/tk-pro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/kacper/Pulpit/prg/TK/tk-pro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/kacper/Pulpit/prg/TK/tk-pro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kacper/Pulpit/prg/TK/tk-pro/src/views/partials/DeleteEditorItemModal.js\";\nimport React, { useState } from 'react';\nimport Button from '../../components/Button';\nimport Modal from '../../components/Modal';\nimport { MODAL_SIZES, ALERT_VARIANTS, BUTTON_VARIANTS } from '../../config/constants';\nimport useApi from '../../hooks/useApi';\nimport AlertContext from '../../contexts/Alert';\nexport default (function (_ref) {\n  var isOpen = _ref.isOpen,\n      onClose = _ref.onClose,\n      onDone = _ref.onDone,\n      id = _ref.id;\n  var api = useApi();\n\n  var _AlertContext = AlertContext(),\n      createAlert = _AlertContext.createAlert;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var deleteImage =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return api.delete(\"/api/editor/\".concat(id, \"/\"));\n\n            case 4:\n              _context.next = 11;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](1);\n              createAlert(\"B\\u0142\\u0105d podczas usuwania pliku \".concat(String.fromCodePoint(0x26a0)), ALERT_VARIANTS.danger);\n              setLoading(false);\n              return _context.abrupt(\"return\");\n\n            case 11:\n              if (onDone) {\n                onDone();\n              }\n\n              createAlert('Plik usunięty pomyślnie', ALERT_VARIANTS.success);\n              setLoading(false);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 6]]);\n    }));\n\n    return function deleteImage() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(Modal, {\n    isOpen: isOpen,\n    size: MODAL_SIZES.small,\n    onClose: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      marginBottom: 15\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Czy na pewno chcesz usun\\u0105\\u0107 ten plik?\"), React.createElement(Button, {\n    variant: BUTTON_VARIANTS.danger,\n    onClick: deleteImage,\n    isLoading: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Usu\\u0144 plik\"));\n});","map":{"version":3,"sources":["/home/kacper/Pulpit/prg/TK/tk-pro/src/views/partials/DeleteEditorItemModal.js"],"names":["React","useState","Button","Modal","MODAL_SIZES","ALERT_VARIANTS","BUTTON_VARIANTS","useApi","AlertContext","isOpen","onClose","onDone","id","api","createAlert","loading","setLoading","deleteImage","delete","String","fromCodePoint","danger","success","small","marginBottom"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,SAASC,WAAT,EAAsBC,cAAtB,EAAsCC,eAAtC,QAA6D,wBAA7D;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AAEA,gBAAe,gBAET;AAAA,MADJC,MACI,QADJA,MACI;AAAA,MADIC,OACJ,QADIA,OACJ;AAAA,MADaC,MACb,QADaA,MACb;AAAA,MADqBC,EACrB,QADqBA,EACrB;AACJ,MAAMC,GAAG,GAAGN,MAAM,EAAlB;;AADI,sBAEoBC,YAAY,EAFhC;AAAA,MAEIM,WAFJ,iBAEIA,WAFJ;;AAAA,kBAG0Bb,QAAQ,CAAC,KAAD,CAHlC;AAAA;AAAA,MAGGc,OAHH;AAAA,MAGYC,UAHZ;;AAKJ,MAAMC,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAClBD,cAAAA,UAAU,CAAC,IAAD,CAAV;AADkB;AAAA;AAAA,qBAIVH,GAAG,CAACK,MAAJ,uBAA0BN,EAA1B,OAJU;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAMhBE,cAAAA,WAAW,iDACsBK,MAAM,CAACC,aAAP,CAAqB,MAArB,CADtB,GAETf,cAAc,CAACgB,MAFN,CAAX;AAKAL,cAAAA,UAAU,CAAC,KAAD,CAAV;AAXgB;;AAAA;AAelB,kBAAIL,MAAJ,EAAY;AACVA,gBAAAA,MAAM;AACP;;AAEDG,cAAAA,WAAW,CAAC,yBAAD,EAA4BT,cAAc,CAACiB,OAA3C,CAAX;AACAN,cAAAA,UAAU,CAAC,KAAD,CAAV;;AApBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXC,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAuBA,SACE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAER,MAAf;AAAuB,IAAA,IAAI,EAAEL,WAAW,CAACmB,KAAzC;AAAgD,IAAA,OAAO,EAAEb,OAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAE;AAAEc,MAAAA,YAAY,EAAE;AAAhB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDADF,EAGE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAElB,eAAe,CAACe,MAAjC;AAAyC,IAAA,OAAO,EAAEJ,WAAlD;AAA+D,IAAA,SAAS,EAAEF,OAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,CADF;AASD,CAvCD","sourcesContent":["import React, { useState } from 'react';\nimport Button from '../../components/Button';\nimport Modal from '../../components/Modal';\nimport { MODAL_SIZES, ALERT_VARIANTS, BUTTON_VARIANTS } from '../../config/constants';\nimport useApi from '../../hooks/useApi';\nimport AlertContext from '../../contexts/Alert';\n\nexport default ({\n  isOpen, onClose, onDone, id\n}) => {\n  const api = useApi();\n  const { createAlert } = AlertContext();\n  const [loading, setLoading] = useState(false);\n\n  const deleteImage = async () => {\n    setLoading(true);\n\n    try {\n      await api.delete(`/api/editor/${id}/`);\n    } catch (error) {\n      createAlert(\n        `Błąd podczas usuwania pliku ${String.fromCodePoint(0x26a0)}`,\n        ALERT_VARIANTS.danger\n      );\n\n      setLoading(false);\n      return;\n    }\n\n    if (onDone) {\n      onDone();\n    }\n\n    createAlert('Plik usunięty pomyślnie', ALERT_VARIANTS.success);\n    setLoading(false);\n  };\n\n  return (\n    <Modal isOpen={isOpen} size={MODAL_SIZES.small} onClose={onClose}>\n      <div style={{ marginBottom: 15 }}>Czy na pewno chcesz usunąć ten plik?</div>\n\n      <Button variant={BUTTON_VARIANTS.danger} onClick={deleteImage} isLoading={loading}>\n        Usuń plik\n      </Button>\n    </Modal>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}