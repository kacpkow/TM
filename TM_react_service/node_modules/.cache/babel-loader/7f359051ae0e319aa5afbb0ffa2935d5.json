{"ast":null,"code":"import _objectSpread from \"/home/kacper/Pulpit/tk-new-3/tk-pro-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios';\nimport { API_URL } from '../config/constants';\nimport UserContext from '../contexts/User';\nexport default (function () {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _UserContext = UserContext(),\n      user = _UserContext.user;\n\n  var headers = {};\n\n  if (user) {\n    headers.Authorization = \"Token \".concat(user.token);\n  }\n\n  if (opts.multipart) {\n    headers['Content-Type'] = 'multipart/form-data';\n  }\n\n  return axios.create({\n    baseURL: API_URL,\n    headers: _objectSpread({\n      'Content-Type': 'application/json'\n    }, headers)\n  });\n});","map":{"version":3,"sources":["/home/kacper/Pulpit/tk-new-3/tk-pro-master/src/hooks/useApi.js"],"names":["axios","API_URL","UserContext","opts","user","headers","Authorization","token","multipart","create","baseURL"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AAEA,gBAAe,YAAe;AAAA,MAAdC,IAAc,uEAAP,EAAO;;AAAA,qBACXD,WAAW,EADA;AAAA,MACpBE,IADoB,gBACpBA,IADoB;;AAG5B,MAAMC,OAAO,GAAG,EAAhB;;AAEA,MAAID,IAAJ,EAAU;AACRC,IAAAA,OAAO,CAACC,aAAR,mBAAiCF,IAAI,CAACG,KAAtC;AACD;;AAED,MAAIJ,IAAI,CAACK,SAAT,EAAoB;AAClBH,IAAAA,OAAO,CAAC,cAAD,CAAP,GAA0B,qBAA1B;AACD;;AAED,SAAOL,KAAK,CAACS,MAAN,CAAa;AAClBC,IAAAA,OAAO,EAAET,OADS;AAElBI,IAAAA,OAAO;AACL,sBAAgB;AADX,OAEFA,OAFE;AAFW,GAAb,CAAP;AAOD,CApBD","sourcesContent":["import axios from 'axios';\nimport { API_URL } from '../config/constants';\nimport UserContext from '../contexts/User';\n\nexport default (opts = {}) => {\n  const { user } = UserContext();\n\n  const headers = {};\n\n  if (user) {\n    headers.Authorization = `Token ${user.token}`;\n  }\n\n  if (opts.multipart) {\n    headers['Content-Type'] = 'multipart/form-data';\n  }\n\n  return axios.create({\n    baseURL: API_URL,\n    headers: {\n      'Content-Type': 'application/json',\n      ...headers\n    }\n  });\n};\n"]},"metadata":{},"sourceType":"module"}