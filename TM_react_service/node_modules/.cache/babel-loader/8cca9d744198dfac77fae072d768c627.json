{"ast":null,"code":"import _objectWithoutProperties from \"/home/kacper/Pulpit/prg/TK/tk-pro/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/home/kacper/Pulpit/prg/TK/tk-pro/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kacper/Pulpit/prg/TK/tk-pro/src/components/SvgCanvas/Canvas.js\";\nimport React, { useContext, useState } from 'react';\nimport { useGesture } from 'react-with-gesture';\nimport EditorContext from '../../contexts/Editor';\nimport Tag from './Tag';\n\nvar Canvas = function Canvas() {\n  var _useContext = useContext(EditorContext),\n      items = _useContext.items,\n      updateItem = _useContext.updateItem,\n      setFocus = _useContext.setFocus;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      drag = _useState2[0],\n      setDrag = _useState2[1];\n\n  var bind = useGesture(function (e) {\n    var _e$args = _slicedToArray(e.args, 3),\n        id = _e$args[0],\n        prevX = _e$args[1],\n        prevY = _e$args[2],\n        delta = e.delta,\n        direction = e.direction;\n\n    updateItem(id, {\n      params: {\n        x: prevX + delta[0],\n        y: prevY + delta[1]\n      }\n    });\n    setDrag(direction.some(function (item) {\n      return item !== 0;\n    }));\n  });\n  return React.createElement(React.Fragment, null, React.createElement(Tag, {\n    as: \"svg\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    className: \"canvas\",\n    width: \"600\",\n    height: \"450\",\n    style: {\n      background: '#fff'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(Tag, {\n    as: \"rect\",\n    width: \"100%\",\n    height: \"100%\",\n    x: \"0\",\n    y: \"0\",\n    fill: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), items.map(function (_ref) {\n    var id = _ref.id,\n        params = _ref.params,\n        editable = _ref.editable,\n        rest = _objectWithoutProperties(_ref, [\"id\", \"params\", \"editable\"]);\n\n    return React.createElement(Tag, Object.assign({\n      as: \"g\",\n      key: id,\n      onClick: function onClick() {\n        if (!drag) {\n          setFocus(id);\n        }\n      },\n      className: \"drag\",\n      style: {\n        fill: params.fill,\n        fontSize: params.fontSize,\n        transform: \"translate(\".concat(params.x, \"px, \").concat(params.y, \"px) rotate(\").concat(params.rotate, \"deg)\")\n      }\n    }, bind(id, params.x, params.y), {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(Tag, Object.assign({}, rest, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })));\n  })));\n};\n\nexport default Canvas;","map":{"version":3,"sources":["/home/kacper/Pulpit/prg/TK/tk-pro/src/components/SvgCanvas/Canvas.js"],"names":["React","useContext","useState","useGesture","EditorContext","Tag","Canvas","items","updateItem","setFocus","drag","setDrag","bind","e","args","id","prevX","prevY","delta","direction","params","x","y","some","item","background","map","editable","rest","fill","fontSize","transform","rotate"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useGesture } from 'react-with-gesture';\nimport EditorContext from '../../contexts/Editor';\nimport Tag from './Tag';\n\nconst Canvas = () => {\n  const { items, updateItem, setFocus } = useContext(EditorContext);\n  const [drag, setDrag] = useState(false);\n\n  const bind = useGesture((e) => {\n    const {\n      args: [id, prevX, prevY],\n      delta,\n      direction\n    } = e;\n\n    updateItem(id, {\n      params: {\n        x: prevX + delta[0],\n        y: prevY + delta[1]\n      }\n    });\n\n    setDrag(direction.some(item => item !== 0));\n  });\n\n  return (\n    <>\n      <Tag\n        as=\"svg\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n        className=\"canvas\"\n        width=\"600\"\n        height=\"450\"\n        style={{ background: '#fff' }}\n      >\n        <Tag as=\"rect\" width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" fill=\"#fff\" />\n\n        {items.map(({\n          id, params, editable, ...rest\n        }) => (\n          <Tag\n            as=\"g\"\n            key={id}\n            onClick={() => {\n              if (!drag) {\n                setFocus(id);\n              }\n            }}\n            className=\"drag\"\n            style={{\n              fill: params.fill,\n              fontSize: params.fontSize,\n              transform: `translate(${params.x}px, ${params.y}px) rotate(${params.rotate}deg)`\n            }}\n            {...bind(id, params.x, params.y)}\n          >\n            <Tag {...rest} />\n          </Tag>\n        ))}\n      </Tag>\n    </>\n  );\n};\n\nexport default Canvas;\n"]},"metadata":{},"sourceType":"module"}